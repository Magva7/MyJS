<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <script>
        var ajaxUtils = {};

        // Makes an Ajax GET request to 'requestUrl'
        ajaxUtils.sendGetRequest = function(requestUrl, responseHandler) {
            var request = new XMLHttpRequest();
            request.onreadystatechange = function() {
                handleResponse(request, responseHandler);
            };
            request.open("GET", requestUrl, true);
            request.send(null); // for POST only
        };


        // Only calls user provided 'responseHandler'
        // function if response is ready
        // and not an error
        function handleResponse(request,
                                responseHandler) {
            if ((request.readyState == 4) &&
                (request.status == 200)) {
                responseHandler(request);
            }
        }

        document.addEventListener("DOMContentLoaded",function (event) { /**Прослушиваем событие загрузки страницы**/
            document.querySelector("button").addEventListener("click", function () { /**Ищем по селектору нашу кнопку и
             навешиваем на нее прослушивание события по клику**/
              ajaxUtils.sendGetRequest("data/name.txt", function (request) {/**Когда произойдет событие клик, Отсылаем
               на сервер запрос, в первом параметре указываем, что мы хотим получить и где это лежит, в данном случае мы запрашиваем
               содержимое файла name.txt**/
                var name = request.responseText; /**Записываем в переменную name то, что получили от сервера, т.е.
                  содержимое файла name.txt**/

                document.getElementById("content").textContent = "Здорово, " + name; /**Ишем по id элемент с
                  id='content' и записываем в его текстовое содержимое слово "Здорово" и  значение нашей переменной name, в ней
                  лежит то, что мы из файла name.txt получили**/
              });
           });
        });

    </script>
    <title>Ajax</title>
  </head>
<body>
  <p>При нажатии на кнопку, печатает привет + имя из текстового файла<p>

  <button>Пыньк!</button>
  
  <div id="content"></div> <!--Сюда будем выводить-->
</body>
</html>
